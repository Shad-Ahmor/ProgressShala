/* ------------------------------------------------------
   Fullscreen overlay
------------------------------------------------------- */
.book-auth-wrapper{
  width:100%;
  height:100vh;
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
  z-index:99999;
  overflow:hidden;
  background: rgba(0,0,0,0.85);
  backdrop-filter: blur(8px);
  animation: authFadeIn 0.45s ease both;
}

@keyframes authFadeIn{
  from { opacity: 0; transform: scale(0.995); }
  to { opacity: 1; transform: scale(1); }
}

/* ------------------------------------------------------
   Book container (3D object)
------------------------------------------------------- */
.book-container{
  width:900px;
  height:700px;
  max-width:90vw;
  max-height:95vh;
  display:flex;
  position:relative;
  perspective:2400px;
  transform-style:preserve-3d;
  transform: rotateY(-10deg) scale(0.65);
  opacity:0;
  transition:
    transform 0.88s cubic-bezier(0.25,0.46,0.45,0.94),
    opacity 0.52s ease;
}

/* open state */
.book-container.open{
  transform: rotateY(0deg) scale(1);
  opacity:1;
}

/* ------------------------------------------------------
   Individual pages
------------------------------------------------------- */
.book-page{
  width:50%;
  height:100%;
  padding:40px 45px;
  box-sizing:border-box;
  background: var(--bg-color-surface);
  backdrop-filter: blur(var(--glass-blur));
  border-radius: var(--radius-lg);
  color: var(--text);
  position:relative;
  overflow:hidden;
  transform-style:preserve-3d;
  box-shadow: 0 10px 40px rgba(0,0,0,0.48);
  transition:
    transform 0.88s cubic-bezier(0.25,0.46,0.45,0.94),
    opacity 0.4s ease,
    width 0.6s ease;
}

/* Left page specifics */
.book-page.left {
    margin-right: 2px;
  transform-origin: right center;
  border-right: 1px solid rgba(255,255,255,0.06);
}

/* Right page specifics (closed/rotated) */
.book-page.right{
     margin-right: 2px;
  transform-origin: left center;
  transform: rotateY(-90deg);
  opacity: 0;
  border-left: 1px solid rgba(255,255,255,0.06);
  transition-delay: 0s;
}

/* When the book opens normally the right page swings in */
.book-container.open .book-page.right{
  transform: rotateY(0deg);
  opacity: 1;
  transition-delay: 0.18s;
}


/* ------------------------------------------------------
   Close button
------------------------------------------------------- */
.close-x-book{
  position:absolute;
  top:14px;
  right:14px;
  width:40px;
  height:40px;
  border-radius:50%;
  border:none;
  display:grid;
  place-items:center;
  color: var(--text);
  cursor:pointer;
  z-index: 200;
  transition: all 0.18s ease;
  backdrop-filter: blur(4px);
}
.close-x-book:hover{
  transform: rotate(90deg) scale(1.02);
}

/* ------------------------------------------------------
   Headings / Inputs / Buttons
------------------------------------------------------- */
.panel-header{ display:flex; align-items:center; gap:10px; }
.panel-header h2{ font-size:28px; font-weight:700; color:var(--text); margin-top:10px; }
.sub-text{ color:var(--muted); font-size:14px; margin-bottom:20px; }

.icon-badge{ padding:6px; border-radius:8px; background: rgba(124,58,237,0.14); color:#fff; }
.icon-badge.secondary{ background: rgba(59,130,246,0.14); }

.book-input{
  width:100%;
  padding:12px 14px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.04);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  color: var(--text);
  outline:none;
  font-size:0.95rem;
  margin-bottom:16px;
  transition: box-shadow .18s ease, border-color .18s ease, transform .12s ease;
  backdrop-filter: blur(4px);
}
.book-input:focus{
  border-color: rgba(124,58,237,0.9);
  box-shadow: 0 6px 18px rgba(124,58,237,0.06);
  transform: translateY(-1px);
}

.book-btn{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  font-weight:800;
  cursor:pointer;
  margin-top:6px;
  background: linear-gradient(90deg, #7c3aed, #06b6d4);
  color: #07101a;
  transition: transform .14s ease, box-shadow .14s ease;
}
.book-btn:hover{ transform: translateY(-3px); box-shadow: 0 12px 36px rgba(6,182,212,0.12); }

.error-msg{ color:#ff7070; font-size:13px; margin-bottom:10px; text-align:left; }

/* link */
.text-small{ color:var(--muted); font-size:13px; margin-top:18px; text-align:center; }
.link-switch{ color:#7c3aed; cursor:pointer; font-weight:700; margin-left:6px; }
.link-switch:hover{ text-decoration:underline; }

/* ------------------------------------------------------
   Stepper / Step content container (MUI overrides)
------------------------------------------------------- */
.book-page.right { display:flex; flex-direction:column; }

/* Container inside right page that wraps Paper/Stepper */
.account-create-form-panel{
  width:100%;
  height:100%;
  box-sizing:border-box;
  display:flex;
  flex-direction:column;
}

/* The Paper that wraps stepper/content ‚Äî make truly transparent */
.account-create-form-panel > .MuiPaper-root,
.account-create-form-panel .MuiPaper-root{
  background: transparent !important;
  box-shadow: none !important;
  border: none !important;
}

/* Stepper root fixes - remove default background/lines */
.MuiStepper-root{
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  padding: 8px 0 4px !important;
}

/* Remove connector / hair-line */
.MuiStepConnector-line{
  border: none !important;
  background: none !important;
  height: 0 !important;
}

/* Step label color */
.MuiStepLabel-label{
  color: var(--text) !important;
  font-weight:600;
}

/* Step icons */
.MuiStepIcon-root{
  color: rgba(255,255,255,0.28) !important;
}
.MuiStepIcon-root.Mui-active,
.MuiStepIcon-root.Mui-completed{
  color: var(--neon-accent) !important;
  filter: drop-shadow(0 4px 14px rgba(124,58,237,0.14));
}

/* Linear progress styles inside stepper area */
.MuiLinearProgress-root{ background: rgba(255,255,255,0.06) !important; border-radius:6px; height:8px !important; }
.MuiLinearProgress-bar{ background: #1976d2 !important; }

/* Textfield overrides (AccountCreate form) */
.MuiTextField-root .MuiInputLabel-root{ color: var(--muted) !important; }
.MuiTextField-root .MuiOutlinedInput-notchedOutline{ border-color: rgba(255,255,255,0.14) !important; }
.MuiTextField-root .MuiOutlinedInput-root{ background: rgba(0,0,0,0.08); color: var(--text) !important; }
.MuiTextField-root .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline{ border-color: #65d4ff !important; }

/* Ensure Paper children do not show a stroke */
.MuiPaper-root { background: transparent !important; box-shadow:none !important; border:none !important; }

/* Remove any default divider styling that could appear as a dark line */
.MuiDivider-root{ background: rgba(255,255,255,0.04) !important; }

/* Step content container */
.step-content-container{
  width:100%;
  flex-grow:1;
  overflow-y:auto;
  padding: 8px 0 0;
  -webkit-overflow-scrolling: touch;
  box-sizing:border-box;
  /* Desktop max-height for reference, overridden on mobile */
  max-height: 100%; 
}

/* Make sure step-content is above spine visually when centered */
.step-content { z-index: 30; }

/* ------------------------------------------------------
   Taash card swipe + expand + shrink-left
------------------------------------------------------- */

/* slide-over initial */
.book-page.right.slide-over{
  position:absolute;
  top:0;
  /* We animate from right edge into center; use right:calc(...) to avoid jumping */
  right: 0;
  height:100%;
  z-index:50;
  animation: slideCard 0.78s cubic-bezier(0.25,0.8,0.45,1) forwards;
}

/* keyframes that simulate a card flipping into view */
@keyframes slideCard{
  0% {
    transform: rotateY(-90deg) translateX(110%);
    opacity: 0;
  }
  36% {
    transform: rotateY(-18deg) translateX(10%) scale(0.96);
    opacity: 1;
  }
  72% {
    transform: rotateY(-6deg) translateX(-18%) scale(0.985);
  }
  100% {
    transform: rotateY(0deg) translateX(-50%) scale(1);
    /* final translateX here will be corrected by active-front rules */
  }
}

/* expand after slide (starts after slideCard ends) */
.book-page.right.slide-over{
  animation:
    slideCard 0.78s cubic-bezier(0.25,0.8,0.45,1) forwards,
    expandRight 0.6s 0.78s ease forwards;
}

@keyframes expandRight{
  from { width:50%; }
  to { width:70%; }
}

/* Shrink-left animation */
.book-page.left.shrink-left{
  animation: shrinkLeft 0.6s 0.78s ease forwards;
}
@keyframes shrinkLeft{
  from { width:50%; opacity:1; filter:none; }
  to { width:30%; opacity:0.42; filter: blur(2px); transform: scale(0.995); }
}

/* final centered right panel (active-front) */
.book-page.right.active-front{
  position:absolute !important;
  left:50% !important;
  top:0 !important;
  transform: translateX(-50%) rotateY(0deg) !important;
  width:70% !important;
  height:100% !important;
  z-index: 9999 !important;
  opacity:1 !important;
  border-left: none !important;
  box-shadow: 0 28px 80px rgba(2,6,23,0.65), 0 6px 20px rgba(124,58,237,0.08);
  border-radius: 14px;
  transition: all 0.42s cubic-bezier(0.22,1,0.36,1) !important;
}

/* ensure spine doesn't cover the active-front */

.book-page.right.active-front{ z-index: 9999; }

/* ------------------------------------------------------
   Final layout safety + accessibility
------------------------------------------------------- */
.book-page * { box-sizing: border-box; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
.book-page a { color: inherit; text-decoration: none; }
.book-page button { font-family: inherit; }

/* ------------------------------------------------------
   Tiny helpers for no-jank scrolling inside stepper
------------------------------------------------------- */
.step-content::-webkit-scrollbar{ width:8px; height:8px; }
.step-content::-webkit-scrollbar-thumb{ background: rgba(255,255,255,0.06); border-radius:999px; }
.step-content::-webkit-scrollbar-track{ background: transparent; }


/* ------------------------------------------------------
   PRICING TABLE UI (MERGED)
------------------------------------------------------- */

.pricing-container{
  width:100%;
  padding:14px 0;
  text-align:center;
}

.pricing-title{
  color:var(--text);
  font-size:26px;
  margin-bottom:16px;
  font-weight:700;
}

.pricing-table-wrapper{
  display:flex;
  gap:20px;
  justify-content:center;
  flex-wrap:wrap;
  padding:10px;
}

.pricing-card{
  width:260px;
  padding:22px;
  border-radius:14px;
  background: rgba(255,255,255,0.04);
  backdrop-filter:blur(6px);
  border:1px solid rgba(255,255,255,0.08);
  cursor:pointer;
  transition:0.25s ease;
}

.pricing-card:hover{
  transform: translateY(-6px);
  box-shadow:0 14px 40px rgba(0,0,0,0.35);
}

.pricing-card.selected{
  border:2px solid #7c3aed;
  box-shadow:0 0 18px rgba(124,58,237,0.4);
  transform:scale(1.03);
}

.pricing-card h3{
  color:var(--text);
  font-size:20px;
  margin-bottom:6px;
}

.pricing-card h1{
  color:#7c3aed;
  font-size:34px;
  margin-bottom:12px;
}

.pricing-card ul{
  list-style:none;
  padding:0;
  margin:0 0 14px;
  text-align:left;
}

.pricing-card li{
  color:var(--text);
  font-size:14px;
  margin-bottom:8px;
}

.choose-btn{
  width:100%;
  padding:10px;
  border:none;
  border-radius:10px;
  background:#7c3aed;
  color:#fff;
  cursor:pointer;
  font-weight:700;
  transition:0.22s ease;
}
.choose-btn:hover{
  background:#9f66ff;
}

/* Minor component styles */
.stepper-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 0 10px;
  margin-bottom: 10px;
}

.close-btn {
  background: transparent;
  border: none;
  font-size: 22px;
  cursor: pointer;
  color: #444;
  margin-top: 5px;
}

.close-btn:hover {
  color: black;
}
.close-x-book.fixed-close {
  position: relative !important;
  top: 0 !important;
  right: 0 !important;
  font-size: 22px;
  background: rgba(255, 255, 255, 0.15);
  border: none;
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
  backdrop-filter: blur(4px);
  transition: 0.2s;
}

.close-x-book.fixed-close:hover {
  background: rgba(255, 255, 255, 0.25);
}
.css-1koxbam {
  padding: 0 !important;
}


/* ======================================================
   üî• MOBILE RESPONSIVENESS FIXES (max-width: 960px) üî•
   ====================================================== */
@media (max-width: 960px) {

/* 1. FULLSCREEN WRAPPER */
.book-auth-wrapper {
  background: var(--bg-color-surface, rgba(0,0,0,0.9)) !important; 
  padding: 0 !important; 
  overflow-y: auto !important;
  align-items: flex-start !important; /* Top align content */
  height: 100vh !important;
}

/* 2. BOOK CONTAINER (Single Card View) */
.book-container{
  width: 100vw !important; /* Full width viewport */
  max-width: none !important;
  height: auto !important;
  max-height: none !important;
  padding: 0 !important;
  transform: none !important; /* Remove 3D transforms */
  opacity: 1 !important;
  perspective: none !important;
  flex-direction: column !important; /* Stack pages */
  box-shadow: none !important;
  transition: none !important;
}
.book-container.open{
  transform: none !important;
}


/* 3. PAGES (FULLSCREEN CARD LOGIC) */
.book-page,
.book-page.left,
.book-page.right{
  width: 100% !important;
  height: 100vh !important; /* Ensure it takes full height on mobile */
  max-height: none !important;
  padding: 20px !important;
  border-radius: 0 !important; /* No rounded corners on fullscreen */
  transform: none !important;
  transition: none !important;
  box-shadow: none !important;
  border: none !important; 
  margin: 0 !important; 
  position: fixed !important; /* Use fixed position for active page */
  top: 0 !important;
  left: 0 !important;
  z-index: 999990;
  overflow-y: auto !important; /* Allow internal scrolling */
  display: none !important; /* Hide all by default */
}

/* 4. ACTIVE PAGE VISIBILITY */
.book-page.active-panel{
  display: block !important;
  z-index: 999995 !important;
}
/* Ensure right page also displays correctly when active */
.book-page.right.active-panel{
  display: block !important;
  /* Override Taash card specific styles that might interfere */
  width: 100% !important;
  height: 100vh !important;
  transform: none !important;
  opacity: 1 !important;
  box-shadow: none !important;
  border-radius: 0 !important;
}

/* 5. SPECIFIC PAGE ANIMATION/TRANSITION OVERRIDES */
/* Disable the desktop-only transitions/animations */
.book-page.right.slide-over,
.book-page.right.active-front,
.book-page.left.shrink-left {
  animation: none !important;
  transform: none !important;
  opacity: 1 !important;
  width: 100% !important;
  position: fixed !important; 
  left: 0 !important;
}


/* 6. CLOSE BUTTON FIX */
.close-x-book{
  position: fixed !important; 
  top: 12px !important;
  right: 12px !important;
  z-index: 999999 !important; /* Ensure it's above the active page */
  background: rgba(255, 255, 255, 0.15); /* Make it visible on dark backgrounds */
  backdrop-filter: blur(4px);
}

/* 7. CONTENT SPACING & TYPOGRAPHY */
.book-input{
  padding: 12px !important;
  font-size: 16px !important;
}

.panel-header h2{
  font-size: 22px !important;
  margin-top: 0 !important;
}

/* 8. FORM PANEL (STEPPER) FIX */
/* Fix 1: Ensure the container holding the stepper can use the full height */
.account-create-form-panel{
  padding: 6px 10px !important;
  flex-grow: 1 !important; /* CRITICAL: Must grow to fill parent */
  height: 100% !important; /* CRITICAL: Take full height of .book-page */
  display: flex !important;
  flex-direction: column !important;
}

/* Fix 2: Ensure the MUI Paper also fills the space vertically */
.account-create-form-panel > .MuiPaper-root {
  flex-grow: 1 !important; /* CRITICAL: Make the paper grow */
  display: flex !important;
  flex-direction: column !important;
  min-height: auto !important; /* Let content dictate height, but use flex-grow */
}


/* 9. STEPPER CONTENT SCROLLABLE FIX */
/* Fix 3: Control the height of the scrollable content area */
.step-content-container{
  width: 100%;
  flex-grow: 1 !important; 
  overflow-y: auto !important; 
  padding: 8px 0 0 !important;
  /* 100vh ‡§Æ‡•á‡§Ç ‡§∏‡•á Stepper header (‡§≤‡§ó‡§≠‡§ó 100px) ‡§î‡§∞ Back/Progress bar (‡§≤‡§ó‡§≠‡§ó 80px) ‡§ï‡•ã ‡§ò‡§ü‡§æ‡§è‡§Ç */
  max-height: calc(100vh - 180px) !important; /* CRITICAL: Defines the scrollable window height */
  box-sizing: border-box;
}


/* 10. PRICING CARDS 100% WIDTH */
.pricing-table-wrapper{
  flex-direction: column !important;
  gap: 16px !important;
}

.pricing-card{
  width: 100% !important;
  margin: 0 auto !important;
}

/* 11. Login/Register Switch link visibility */
/* Hide the switch link on the right (Register) page */
.book-page.right .text-small {
  display: none !important;
}
/* Ensure the switch link is visible on the left (Login) page */
.book-page.left .form-content .text-small {
  display: block !important;
  text-align: center;
  margin-top: 18px;
}
}

/* ------------------------------------------------------
Smaller devices / tablets 768px (Further adjustments)
------------------------------------------------------- */
@media (max-width: 768px){
  .book-page{
    padding: 14px !important;
  }
  
  .panel-header h2{
    font-size: 20px !important;
  }
  
  .book-input{
    padding: 10px !important;
    font-size: 14px !important;
  }
  
  .book-btn{
    padding: 12px !important;
    font-size: 14px !important;
  }
  
  .step-content-container{
    max-height: calc(100vh - 160px) !important; /* Reduce space taken by header/footer for smaller screen */
  }
  
  .pricing-card{
    padding: 16px !important;
  }
}