/*
  ==========================================
  ORGANIZATION TREE STYLES (FINAL & CORRECTED)
  ==========================================
*/

/* 1. Root Container for Horizontal Scroll (100+ Employees) */
.hierarchyRoot {
    padding: 20px;
    overflow-x: auto; 
    min-width: 100%;
}

/* --- Tree Node Styling --- */
.treeNode {
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
  margin-bottom: 40px;
  transition: transform 0.3s ease;
  width: max-content; 
}

/* --- Card Styling (No Change) --- */
.card {
  background-color: white;
  border-radius: 8px;
  padding: 16px;
  display: flex;
  align-items: center;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  min-width: 250px;
  margin-bottom: 20px;
  z-index: 2; 
  border: 1px solid transparent; 
}

/* Current User Highlight */
.card.current-user {
    border: 2px solid #38c172;
    background-color: #f0fff4;
    box-shadow: 0 0 10px rgba(56, 193, 114, 0.5);
}

.imageContainer { margin-right: 12px; }
.image { width: 50px; height: 50px; border-radius: 50%; border: 2px solid #3498db; }
.card.current-user .image { border-color: #38c172; }
.cardContent { flex: 1; }
.name { font-size: 16px; font-weight: bold; }
.role { font-size: 14px; color: #666; }

/* --- Toggle Button Styling (No Change) --- */
.toggleButton {
  background-color: #3498db;
  color: white;
  border: none;
  padding: 5px 10px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 14px;
  margin-left: 10px;
  position: absolute;
  top: 100%; 
  left: 50%;
  transform: translateX(-50%);
  margin-top: -10px; 
  z-index: 10;
}

/* Centered Card Header Styling (No Change) */
.cardHeader {
  display: flex; 
  align-items: center;
  justify-content: center;
  cursor: pointer;
  position: relative;
}

/* Children Nodes Styling */
.childrenContainer {
  display: flex;
  justify-content: center;
  flex-direction: row;
  margin-top: 30px;
  position: relative;
  width: max-content; 
}

/* 1. Vertical Line (Parent to Horizontal Connector) */
.verticalLine {
  width: 2px;
  background-color: #605f5f;
  height: 50px; 
  position: absolute;
  top: -20px; 
  left: 50%;
  transform: translateX(-50%);
  z-index: 1;
}

/* Child Nodes (horizontal arrangement) */
.childNodes {
    display: flex !important;
    justify-content: center;
    flex-wrap: nowrap;
    margin: 0;
    padding: 0;
    position: relative;
    /* FIX: à¤¯à¤¹à¤¾à¤‚ width: max-content à¤°à¤–à¥‡à¤‚ */
    width: max-content; 
    /* âœ… NEW: Gap from React is now handled visually */
}

/* ðŸ›‘ FINAL FIX: Horizontal Connector Line */
.childNodes::before {
    content: '';
    position: absolute;
    top: 0; 
    height: 2px;
    background-color: #575757;
    z-index: 0;
    
    /* âœ… SOLUTION: Line à¤•à¥‹ à¤ªà¤¹à¤²à¥‡ child à¤•à¥‡ à¤•à¥‡à¤‚à¤¦à¥à¤° à¤¸à¥‡ à¤†à¤–à¤¿à¤°à¥€ child à¤•à¥‡ à¤•à¥‡à¤‚à¤¦à¥à¤° à¤¤à¤• à¤«à¥ˆà¤²à¤¾à¤à¤‚ */
    /* Child node à¤•à¥€ à¤šà¥Œà¤¡à¤¼à¤¾à¤ˆ: 250px. Gap: 40px. ChildWidth/2 = 125px. Gap/2 = 20px */
    
    /* Line à¤¶à¥à¤°à¥‚: à¤ªà¤¹à¤²à¥‡ Child à¤•à¥‡ à¤•à¥‡à¤‚à¤¦à¥à¤° à¤¸à¥‡ 40px gap à¤•à¤¾ à¤†à¤§à¤¾ (20px) à¤¬à¤¾à¤¹à¤° */
    left: calc(125px + 20px); 
    
    /* Line à¤¸à¤®à¤¾à¤ªà¥à¤¤: à¤†à¤–à¤¿à¤°à¥€ Child à¤•à¥‡ à¤•à¥‡à¤‚à¤¦à¥à¤° à¤¸à¥‡ 40px gap à¤•à¤¾ à¤†à¤§à¤¾ (20px) à¤¬à¤¾à¤¹à¤° */
    right: calc(125px + 20px);
    
    /* NOTE: à¤¯à¤¹ à¤¤à¤­à¥€ à¤•à¤¾à¤® à¤•à¤°à¥‡à¤—à¤¾ à¤œà¤¬ à¤¸à¤­à¥€ à¤•à¤¾à¤°à¥à¤¡à¥à¤¸ à¤•à¥€ à¤šà¥Œà¤¡à¤¼à¤¾à¤ˆ 250px (min-width) à¤¹à¥‹à¥¤ 
       à¤¯à¤¦à¤¿ 1 à¤¯à¤¾ 2 à¤¬à¤šà¥à¤šà¥‡ à¤¹à¥‹à¤‚, à¤¤à¥‹ à¤­à¥€ à¤¯à¤¹ à¤²à¤¾à¤‡à¤¨ à¤•à¥‡à¤µà¤² à¤¬à¥€à¤š à¤®à¥‡à¤‚ à¤¦à¤¿à¤–à¥‡à¤—à¥€à¥¤ */
}

/* 3. Child Node Wrapper (à¤…à¤¬ à¤¯à¤¹ map à¤•à¥‡ à¤…à¤‚à¤¦à¤° à¤•à¤¾ div à¤¹à¥ˆ) */
.childNodes > div {
    flex-shrink: 0;
    flex-grow: 0;
    padding-top: 20px; /* Child Line à¤•à¥‡ à¤²à¤¿à¤ à¤œà¤—à¤¹ */
    position: relative;
}

/* 4. Child Card à¤•à¥‡ à¤Šà¤ªà¤° à¤•à¥€ Vertical Line (Horizontal line à¤¸à¥‡ Card à¤¤à¤•) */
.childNodes > div::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 2px;
    height: 20px; /* horizontal line à¤¸à¥‡ child card à¤¤à¤• */
    background-color: #ccc;
    z-index: 1;
}

/* Adjust the margin for the nested child nodes */
.childNodes .treeNode {
  margin-left: 0;
  margin-top: 20px;
}